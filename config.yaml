# Kalshi Trading Bot Configuration
# =================================
# IMPORTANT: sandbox mode is ENFORCED for this bot.
# Do not set sandbox: false for automated trading.

# Sandbox mode - set force_sandbox: false to allow production API
# For paper trading with real market data, use production API
force_sandbox: false
sandbox: false

# API credentials (loaded from environment)
api_key_env_var: KALSHI_API_KEY
private_key_path: ~/.openclaw/.secrets/kalshi_private_key.pem

# Risk Management
# ---------------
# These are HARD LIMITS for the bot
risk:
  max_total_capital: 200.0    # Total virtual capital ($)
  max_position_size: 10.0     # Max per trade ($)
  max_daily_loss: 20.0        # Stop trading if down this much
  max_concurrent_positions: 10
  max_exposure_pct: 0.20      # Max 20% of capital at risk

# Market Scanner
# --------------
scanner:
  poll_interval_seconds: 30.0
  min_volume: 0               # Minimum daily volume (0 for testing)
  min_liquidity: 0            # Minimum order book depth ($)
  max_markets: 200            # Limit markets per scan (performance)
  market_status: open

# Performance Tracking
# --------------------
performance:
  db_path: data/performance.db
  rolling_window_days: 30
  min_trades_for_ranking: 5   # Need at least 5 trades to rank

# Capital Allocator
# -----------------
allocator:
  rebalance_interval_hours: 24.0
  min_sharpe_ratio: 0.5       # Min Sharpe to receive allocation
  performance_weight: 0.7     # Weight for returns in ranking
  risk_weight: 0.3            # Weight for risk metrics

# Strategy Configurations
# -----------------------
strategies:
  MeanReversion:
    enabled: true
    initial_capital: 66.0
    max_position_size: 10.0
    params:
      extreme_threshold: 0.95  # YES price above this = sell signal
      min_threshold: 0.05      # YES price below this = buy signal
      exit_target: 0.50        # Exit when price normalizes
      base_position_size: 5.0

  Momentum:
    enabled: true
    initial_capital: 66.0
    max_position_size: 10.0
    params:
      short_ma: 5              # Short moving average period
      long_ma: 20              # Long moving average period
      momentum_threshold: 0.02 # Min momentum to trigger
      position_size: 5.0

  MarketMaking:
    enabled: false  # Disabled - too complex for now
    initial_capital: 20.0
    max_position_size: 10.0
    params:
      min_spread: 0.05
      position_size: 5.0

  # UFC-specific strategies
  FavoriteBacker:
    enabled: true
    initial_capital: 40.0
    max_position_size: 10.0
    params:
      min_favorite_price: 0.70  # Min price to consider favorite
      max_favorite_price: 0.85  # Max price (avoid >85% favorites)
      position_size: 5.0

  UnderdogValue:
    enabled: true
    initial_capital: 30.0
    max_position_size: 8.0
    params:
      min_underdog_price: 0.15
      max_underdog_price: 0.35
      position_size: 3.0

  FinishProp:
    enabled: true
    initial_capital: 30.0
    max_position_size: 8.0
    params:
      max_finish_price: 0.40   # Bet on finishes priced <40%
      position_size: 4.0

  MethodOfVictory:
    enabled: true
    initial_capital: 30.0
    max_position_size: 8.0
    params:
      ko_fair_price: 0.30      # Historical KO rate
      sub_fair_price: 0.20     # Historical sub rate
      dec_fair_price: 0.45     # Historical decision rate
      edge_threshold: 0.10     # Need 10% edge to trade
      position_size: 4.0

# Logging
# -------
log_level: INFO
log_file: logs/trading.log
